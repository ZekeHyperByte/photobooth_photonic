# ============================================================================
# Photonic Backend Environment Configuration (Windows Edition)
# ============================================================================
# Copy this file to .env and update values for your environment

# ============================================================================
# Server Configuration
# ============================================================================
NODE_ENV=development          # 'development' or 'production'
PORT=4000                     # Backend API port
DATABASE_PATH=.\data\photobooth.db  # Windows path style

# ============================================================================
# Development Mode
# ============================================================================
# DEV_MODE=true enables mock payments, auto-approves transactions
# Set to false for production with real payments
DEV_MODE=true

# ============================================================================
# Camera Configuration (NEW - Provider Pattern)
# ============================================================================
# Options: 'edsdk' (Canon EDSDK - Windows only), 'mock' (for testing)
# For Windows with Canon camera: CAMERA_PROVIDER=edsdk
# For testing without camera: CAMERA_PROVIDER=mock
CAMERA_PROVIDER=mock

# Legacy camera settings (deprecated, use CAMERA_PROVIDER above)
MOCK_CAMERA=false             # Deprecated - use CAMERA_PROVIDER=mock instead
USE_WEBCAM=false              # Deprecated - not supported with EDSDK

# ============================================================================
# Payment Provider Configuration
# ============================================================================
# Options: 'mock', 'midtrans', 'xendit', 'stripe'
# Use 'mock' for testing without real payment gateway
PAYMENT_PROVIDER=mock

# ---------------------------------------------------------------------------
# Midtrans Configuration (only needed if PAYMENT_PROVIDER=midtrans)
# ---------------------------------------------------------------------------
# Get keys from: https://dashboard.midtrans.com/settings/access_keys
MIDTRANS_SERVER_KEY=          # Sandbox: SB-Mid-server-xxx, Production: Mid-server-xxx
MIDTRANS_CLIENT_KEY=          # Sandbox: SB-Mid-client-xxx, Production: Mid-client-xxx
MIDTRANS_ENVIRONMENT=sandbox  # 'sandbox' for testing, 'production' for live

# ============================================================================
# Admin & Security Configuration
# ============================================================================
ADMIN_PIN=1234                # PIN for accessing frame manager and admin web
ADMIN_PORT=4001               # Admin web server port (auto-increments if taken)

# ============================================================================
# WhatsApp Delivery Configuration
# ============================================================================
# Optional - for sending photos via WhatsApp
WHATSAPP_PROVIDER=fonnte      # 'fonnte' or 'wablas'
WHATSAPP_API_KEY=             # Get from https://fonnte.com or https://wablas.com

# ============================================================================
# Analytics & Sync Configuration
# ============================================================================
# Optional - for syncing data to central analytics dashboard
BOOTH_ID=booth-001            # Unique identifier for this booth
CENTRAL_SERVER_URL=           # URL to analytics server (e.g., https://analytics.example.com)
CENTRAL_SERVER_API_KEY=       # API key for analytics authentication
SYNC_INTERVAL_MS=3600000      # Sync interval in milliseconds (1 hour default)

# ============================================================================
# Feature Flags
# ============================================================================
ENABLE_PRINTING=true          # Enable/disable printing feature
ENABLE_WHATSAPP=true          # Enable/disable WhatsApp delivery
ENABLE_ANALYTICS=false        # Enable/disable analytics sync

# ============================================================================
# Windows-Specific Notes
# ============================================================================
# 1. Use backslashes (\) for paths on Windows
# 2. EDSDK provider requires Windows and Canon camera
# 3. DLL files should be in apps\backend\dlls\
# 4. Run 'pnpm install' from apps\backend directory
# 5. Use PowerShell or CMD for Windows commands

# ============================================================================
# Production Checklist
# ============================================================================
# Before deploying to production:
# 
# [ ] Set NODE_ENV=production
# [ ] Set DEV_MODE=false
# [ ] Set CAMERA_PROVIDER=edsdk (for Windows kiosk)
# [ ] Set PAYMENT_PROVIDER to your chosen provider (not 'mock')
# [ ] Configure real payment gateway credentials
# [ ] Test with real Canon camera connected
# [ ] Change ADMIN_PIN from default 1234
# [ ] Configure WhatsApp API key (if using)
# [ ] Test full payment flow
# [ ] Verify printer setup
# [ ] Disable Windows Updates during business hours
# [ ] Configure Windows for 24/7 operation (see docs/WINDOWS-SETUP-GUIDE.md)
